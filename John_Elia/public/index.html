<!DOCTYPE html>
<html>
<head>
  <title>Courses System</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-10">

<h1 class="text-3xl mb-6">Courses System</h1>

<div class="mb-6">
  <input id="title" placeholder="Course Title" class="border p-2 mr-2">
  <input id="instructor" placeholder="Instructor" class="border p-2 mr-2">
  <input id="price" placeholder="Price" class="border p-2 mr-2">
  <button onclick="addCourse()" class="bg-blue-600 text-white px-4 py-2">Add</button>
</div>

<ul id="list" class="space-y-3"></ul>

<script>
function loadCourses(){
 fetch("/api/courses")
  .then(res=>res.json())
  .then(data=>{
    list.innerHTML="";
    data.forEach(c=>{
      list.innerHTML+=`
      <li class="bg-white p-4 flex justify-between">
        <span>${c.title} - ${c.instructor} ($${c.price})</span>
        <button onclick="removeCourse(${c.id})" class="text-red-600">Delete</button>
      </li>`;
    });
  });
}

function addCourse(){
 fetch("/api/courses",{
  method:"POST",
  headers:{"Content-Type":"application/json"},
  body:JSON.stringify({
    title:title.value,
    instructor:instructor.value,
    price:price.value
  })
 }).then(loadCourses);
}

function removeCourse(id){
 fetch("/api/courses/"+id,{method:"DELETE"})
  .then(loadCourses);
}

loadCourses();
</script>

</body>
</html>